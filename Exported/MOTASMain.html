<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>MOTAS</title>
	<!-- Some scripts -->
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
	<script src="./MOTAS_API.js"></script>
	<script type="text/javascript">
		$(document).ready(function(evt) 
		{
			const invSlots = 8;
			let invReadyCount = invSlots;
			// Set up inventory iframes
			let $inventory = $('#inventory');
			for (let i = 1; i <= invSlots; i++)
			{
				$inventory.append(
					$('<iframe>')
						.attr(
						{
							// access with frameElement
							id: 'obj' + i,
							src: 'objects_HTML5 Canvas.html',
							width: 70,
							height: 70
						})
						.addClass('inventory-frame')
						.on('load', () => 
						{
							invReadyCount--;
							if (invReadyCount === 0)
							{
								$('#game-frame')
									.attr('src', 'mystery2_HTML5 Canvas.html');
							}
						})
				);
			}

			// Set up cursor:
			// let $cursorText = $('#cursor-text').css('position', 'fixed');
			// [...$('iframe')].forEach((frame) => 
			// {
			// 	$(frame.contentDocument.body).on('mousemove', (evt) => 
			// 	{
			// 		console.log(evt.pageY, evt.pageX);
			// 		$cursorText.css(
			// 		{
			// 			top: evt.pageY,
			// 			left: evt.pageX
			// 		});
			// 	});
			// });
			// $('body').on('mousemove', (evt) => 
			// {
				
			// });
		});
	</script>
	<style type="text/css">
		body
		{
			background-color: black;
			color: white;
			font-family: sans-serif;
		}

		#game-frame
		{
			border: none;
		}
	</style>
</head>
<body>
	<!-- Need Iframes for the following:
		Inventory/HUD
		Game
		Cursor
	 -->
	<div id="inventory"></div>
	<iframe id="game-frame" width="700" height="500"></iframe>
	<br />
	<p id="game-text"></p>
	<p id="cursor-text"></p>
	<p id="cursor-state"></p>
</body>
</html>